!function t(n,i,e){function o(r,s){if(!i[r]){if(!n[r]){var u="function"==typeof require&&require;if(!s&&u)return u(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var f=i[r]={exports:{}};n[r][0].call(f.exports,function(t){var i=n[r][1][t];return o(i?i:t)},f,f.exports,t,n,i,e)}return i[r].exports}for(var a="function"==typeof require&&require,r=0;r<e.length;r++)o(e[r]);return o}({1:[function(t,n){n.exports=t("./src/gretro")},{"./src/gretro":41}],2:[function(t,n){"use strict";n.exports=function(t){t.Canvas.addMethod("arc",function(){throw new Error("Canvas#arc is not implemented yet.")})}},{}],3:[function(t,n){"use strict";var i=t("./dollar");n.exports=function(t,n){function e(t,r,s){if(t=0|n.defaults(t,640),r=0|n.defaults(r,400),e.isCanvasRGB(t,r,s))return new o(t,r,s);if(e.isCanvasRGBA(t,r,s))return new a(t,r,s);var u=i(t,r,1,s);u.putPixel=function(n,i,e){var o=i*t+n;if(!u.mask||0!==u.mask[o]){var a=e.valueOf(n,i);-1!==a&&(u.data[o]=15&a)}},this.$=u}function o(t,e,o){t=0|n.defaults(t,640),e=0|n.defaults(e,400);var a=i(t,e,3,o);a.putPixel=function(n,i,e){var o=i*t+n;if(!a.mask||0!==a.mask[o]){var r=e.valueOf(n,i);if(-1!==r){var s=3*r,u=a.colorPalette;o*=3,a.data[o]=u[s],a.data[o+1]=u[s+1],a.data[o+2]=u[s+2]}}},this.$=a}function a(t,e,o){t=0|n.defaults(t,640),e=0|n.defaults(e,400);var a=i(t,e,4,o);a.putPixel=function(n,i,e){var o=i*t+n;if(!a.mask||0!==a.mask[o]){var r=e.valueOf(n,i);if(-1!==r){var s=3*r,u=a.colorPalette;o*=4,a.data[o]=u[s],a.data[o+1]=u[s+1],a.data[o+2]=u[s+2]}}},this.$=a}e.isCanvasRGB=function(t,n,i){return i&&i.length===t*n*3},e.isCanvasRGBA=function(t,n,i){return i&&i.length===t*n*4},n.extend(o,e),n.extend(a,o),t.Canvas=e,t.CanvasRGB=o,t.CanvasRGBA=a,e.addMethod=function(t,i){n.addMethod(e.prototype,t,i)},o.addMethod=function(t,i){n.addMethod(o.prototype,t,i)},a.addMethod=function(t,i){n.addMethod(a.prototype,t,i)}}},{"./dollar":9}],4:[function(t,n){"use strict";n.exports=function(t,n){function i(t,n,i,e){for(var o=i,a=0,r=-3*i+3;o>=a;)e(o,a),r>=0&&(r-=4*--o),r+=4*++a+2}function e(t,e,o,a,r){i(e,o,a,function(i,a){n.putLine(t,e-i,e+i,o-a,r),n.putLine(t,e-i,e+i,o+a,r),n.putLine(t,e-a,e+a,o-i,r),n.putLine(t,e-a,e+a,o+i,r)})}function o(t,e,o,a,r){i(e,o,a,function(i,a){n.putPixel(t,e+i,o+a,r),n.putPixel(t,e-i,o+a,r),n.putPixel(t,e+i,o-a,r),n.putPixel(t,e-i,o-a,r),n.putPixel(t,e+a,o+i,r),n.putPixel(t,e-a,o+i,r),n.putPixel(t,e+a,o-i,r),n.putPixel(t,e-a,o-i,r)})}t.Canvas.addMethod("circle",function(t,i,a){t=0|t,i=0|i,a=0|a,n.fill(this,function(n){e(this,t,i,a,n)}),n.stroke(this,function(n){o(this,t,i,a,n)})})}},{}],5:[function(t,n){"use strict";n.exports=function(t,n){t.Canvas.addMethod("clear",function(){n.fill(this,function(t){for(var n=this.$.width,i=this.$.height,e=0;i>e;e++)for(var o=0;n>o;o++)this.$.putPixel(o,e,t)})})}},{}],6:[function(t,n){"use strict";n.exports=function(t){t.Canvas.addMethod("clip",function(t,n,i,e){t=0|t,n=0|n,i=0|i,e=0|e,this.$.minX=Math.max(0,Math.min(t,i)),this.$.minY=Math.max(0,Math.min(n,e)),this.$.maxX=Math.min(Math.max(t,i)-1,this.$.width-1),this.$.maxY=Math.min(Math.max(n,e)-1,this.$.height-1)})}},{}],7:[function(t,n){"use strict";n.exports=function(t){t.Canvas.addMethod("clone",function(){var n=new t.Canvas(this.$.width,this.$.height,new Uint8Array(this.$.data));return n.$.strokeColor=this.$.strokeColor,n.$.fillColor=this.$.fillColor,n.$.colorPalette.set(this.$.colorPalette),n.$.tilePalette.set(this.$.tilePalette),n})}},{}],8:[function(t,n){"use strict";n.exports=function(t){function n(t,n,i,e,o){for(var a=new Uint8Array(e*o),r=0;o>r;r++)a.set(i(n(r)),r*e);return[e,o,a]}function i(t,i,s,u,c){i=Math.max(0,Math.min(i,t.width-1)),u=Math.max(0,Math.min(u,t.width-1)),s=Math.max(0,Math.min(s,t.height-1)),c=Math.max(0,Math.min(c,t.height-1));var f=Math.abs(u-i)+1,h=Math.abs(c-s)+1,d=c>=s?e(i,s,t.width):o(i,s,t.width),l=u>=i?a(t.data,f,t.pixelSize):r(t.data,f,t.pixelSize);return n(t,d,l,f,h)}function e(t,n,i){return function(e){return(n+e)*i+t}}function o(t,n,i){return function(e){return(n-e)*i+t}}function a(t,n,i){return function(e){return t.subarray(e*i,(e+n)*i)}}function r(t,n,i){return function(e){for(var o=new Uint8Array(n*i),a=0;n>a;a++)for(var r=0;i>r;r++)o[a*i+r]=t[(e-a)*i+r];return o}}t.Canvas.addMethod("copy",function(n,e,o,a){n=0|n,e=0|e,o=0|o,a=0|a;var r=i(this.$,n,e,o,a),s=new t.Canvas(r[0],r[1],r[2]);return s.$.colorPalette.set(this.$.colorPalette),s.$.tilePalette.set(this.$.tilePalette),s})}},{}],9:[function(t,n){"use strict";var i=new Uint8Array([0,0,0,0,0,119,119,0,0,119,0,119,0,119,0,0,119,119,119,119,0,119,119,119,68,68,68,0,0,255,255,0,0,255,0,255,0,255,0,0,255,255,255,255,0,255,255,255]),e=new Uint16Array([0,1,1025,1029,1285,1317,34085,34213,42405,42407,44455,44463,44975,44991,61375,61439,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);n.exports=function(t,n,o,a){var r={width:t,height:n,minX:0,minY:0,maxX:t-1,maxY:n-1,mask:null,strokeColor:0,fillColor:-1,pixelSize:o,colorPalette:new Uint8Array(i),tilePalette:new Uint16Array(e),storableKeys:["mask","minX","minY","maxX","maxY","strokeColor","fillColor"]};return r.data=a instanceof Uint8ClampedArray||a instanceof Uint8Array?a:new Uint8Array(t*n*o),r}},{}],10:[function(t,n){"use strict";n.exports=function(t,n){function i(t,n,i){i.forEach(function(i){t[i]=n[i]})}t.Canvas.addMethod("draw",function(t){if("function"==typeof t){var e={};i(e,this.$,this.$.storableKeys);var o=t.apply(this,n.slice(arguments,1));return i(this.$,e,this.$.storableKeys),void 0===o?this:o}})}},{}],11:[function(t,n){"use strict";n.exports=function(t,n){function i(t,n,i,e,o){for(var a=i,r=0,s=Math.pow(i/e,2),u=i,c=-2*u+1+2*s,f=-4*u+2+s;a>=0;)o(a,r),c>=0&&(a--,c-=4*a,f-=4*a-2),0>f&&(r++,c+=4*s*r+2*s,f+=4*s*r)}function e(t,e,o,a,r,s){i(e,o,a,r,function(i,a){n.putLine(t,e-i,e+i,o+a,s),n.putLine(t,e-i,e+i,o-a,s)})}function o(t,e,o,a,r,s){i(e,o,a,r,function(i,a){n.putPixel(t,e+i,o+a,s),n.putPixel(t,e-i,o+a,s),n.putPixel(t,e+i,o-a,s),n.putPixel(t,e-i,o-a,s)})}t.Canvas.addMethod("ellipse",function(t,i,a,r){t=0|t,i=0|i,a=0|a,r=0|r,n.fill(this,function(n){e(this,t,i,a,r,n)}),n.stroke(this,function(n){o(this,t,i,a,r,n)})})}},{}],12:[function(t,n){"use strict";n.exports=function(t,n){t.Canvas.addMethod("fill",function(t){this.$.fillColor=n.colorize(t,this.$.tilePalette)})}},{}],13:[function(t,n){"use strict";n.exports=function(t,n){t.Canvas.addMethod("getColor",function(t){return t=3*(15&t),n.rgb2num(this.$.colorPalette[t],this.$.colorPalette[t+1],this.$.colorPalette[t+2])})}},{}],14:[function(t,n){"use strict";n.exports=function(t,n){t.Canvas.addMethod("getColorIndex",function(t,i){return t=0|t,i=0|i,n.inCanvas(this,t,i)?this.$.data[i*this.$.width+t]:-1}),t.CanvasRGB.addMethod("getColorIndex",function(){throw new Error("CanvasRGB is not supported #getColorIndex")})}},{}],15:[function(t,n){"use strict";n.exports=function(t){t.Canvas.addMethod("getHeight",function(){return this.$.height})}},{}],16:[function(t,n){"use strict";n.exports=function(t,n){t.Canvas.addMethod("getRGB",function(t,i){if(t=0|t,i=0|i,n.inCanvas(this,t,i)){var e=i*this.$.width+t,o=3*this.$.data[e],a=this.$.colorPalette;return n.rgb2num(a[o],a[o+1],a[o+2])}return-1}),t.CanvasRGB.addMethod("getRGB",function(t,i){if(t=0|t,i=0|i,n.inCanvas(this,t,i)){var e=(i*this.$.width+t)*this.$.pixelSize;return n.rgb2num(this.$.data[e],this.$.data[e+1],this.$.data[e+2])}return-1})}},{}],17:[function(t,n){"use strict";n.exports=function(t,n){function i(t,n){return t+(n<<24)>>>0}t.Canvas.addMethod("getRGBA",function(t,e,o){if(t=0|t,e=0|e,o=0|n.defaults(o,255),n.inCanvas(this,t,e)){var a=e*this.$.width+t,r=3*this.$.data[a],s=this.$.colorPalette;return i(n.rgb2num(s[r],s[r+1],s[r+2]),o)}return-1}),t.CanvasRGB.addMethod("getRGBA",function(t,e,o){if(t=0|t,e=0|e,o=0|n.defaults(o,255),n.inCanvas(this,t,e)){var a=(e*this.$.width+t)*this.$.pixelSize;return i(n.rgb2num(this.$.data[a],this.$.data[a+1],this.$.data[a+2]),o)}return-1}),t.CanvasRGBA.addMethod("getRGBA",function(t,e){if(t=0|t,e=0|e,n.inCanvas(this,t,e)){var o=(e*this.$.width+t)*this.$.pixelSize;return i(n.rgb2num(this.$.data[o],this.$.data[o+1],this.$.data[o+2]),this.$.data[o+3])}return-1})}},{}],18:[function(t,n){"use strict";n.exports=function(t){t.Canvas.addMethod("getRawData",function(){return this.$.data})}},{}],19:[function(t,n){"use strict";n.exports=function(t){t.Canvas.addMethod("getTile",function(t){return this.$.tilePalette[31&t]})}},{}],20:[function(t,n){"use strict";n.exports=function(t){t.Canvas.addMethod("getWidth",function(){return this.$.width})}},{}],21:[function(t,n){"use strict";n.exports=function(n){n.use(t("./canvas")),n.use(t("./getRawData")),n.use(t("./getHeight")),n.use(t("./getWidth")),n.use(t("./getColor")),n.use(t("./setColor")),n.use(t("./getTile")),n.use(t("./setTile")),n.use(t("./getColorIndex")),n.use(t("./getRGB")),n.use(t("./getRGBA")),n.use(t("./stroke")),n.use(t("./noStroke")),n.use(t("./fill")),n.use(t("./noFill")),n.use(t("./clip")),n.use(t("./noClip")),n.use(t("./mask")),n.use(t("./noMask")),n.use(t("./clear")),n.use(t("./draw")),n.use(t("./point")),n.use(t("./line")),n.use(t("./polygon")),n.use(t("./triangle")),n.use(t("./quad")),n.use(t("./rect")),n.use(t("./arc")),n.use(t("./circle")),n.use(t("./ellipse")),n.use(t("./copy")),n.use(t("./paste")),n.use(t("./clone")),n.use(t("./toMask")),n.use(t("./toIndexedColor")),n.use(t("./toRGB")),n.use(t("./toRGBA"))}},{"./arc":2,"./canvas":3,"./circle":4,"./clear":5,"./clip":6,"./clone":7,"./copy":8,"./draw":10,"./ellipse":11,"./fill":12,"./getColor":13,"./getColorIndex":14,"./getHeight":15,"./getRGB":16,"./getRGBA":17,"./getRawData":18,"./getTile":19,"./getWidth":20,"./line":22,"./mask":23,"./noClip":24,"./noFill":25,"./noMask":26,"./noStroke":27,"./paste":28,"./point":29,"./polygon":30,"./quad":31,"./rect":32,"./setColor":33,"./setTile":34,"./stroke":35,"./toIndexedColor":36,"./toMask":37,"./toRGB":38,"./toRGBA":39,"./triangle":40}],22:[function(t,n){"use strict";n.exports=function(t,n){function i(t,i,e,o,a){if(n.inRange(o,t.minY,t.maxY))for(i=Math.max(i,t.minX),e=Math.min(e,t.maxX);e>=i;)t.putPixel(i++,o,a)}function e(t,i,e,o,a){if(n.inRange(o,t.minX,t.maxX))for(i=Math.max(i,t.minY),e=Math.min(e,t.maxY);e>=i;)t.putPixel(o,i++,a)}function o(t,n,i,e,o,a,r,s){for(var u=-e,c=0;e>=c;n+=a,c++)t.putPixel(n,i,s),u+=2*o,u>=0&&(i+=r,u-=2*e)}function a(t,n,i,e,o,a,r,s){for(var u=-o,c=0;o>=c;i+=r,c++)t.putPixel(n,i,s),u+=2*e,u>=0&&(n+=a,u-=2*o)}function r(t,n,i,e,r,s){var u=Math.abs(n-e),c=Math.abs(i-r),f=e>n?1:-1,h=r>i?1:-1;u>=c?o(t,n,i,u,c,f,h,s):a(t,n,i,u,c,f,h,s)}function s(t,n){var i=0;return n[d]<t.minX&&(i+=p),t.maxX<n[d]&&(i+=v),n[l]<t.minY&&(i+=x),t.maxY<n[l]&&(i+=$),i}function u(t,n,i,e,o){var a=(i[l]-n[l])*(e-n[d])/(i[d]-n[d])+n[l]|0;return a<t.minY||t.maxY<a?!1:(o[d]=e,o[l]=a,!0)}function c(t,n,i,e,o){var a=(i[d]-n[d])*(e-n[l])/(i[l]-n[l])+n[d]|0;return a<t.minX||t.maxX<a?!1:(o[d]=a,o[l]=e,!0)}function f(t,n,i,e,o){return 0!==(n&p)&&u(t,i,e,t.minX,o)?!0:0!==(n&v)&&u(t,i,e,t.maxX,o)?!0:0!==(n&x)&&c(t,i,e,t.minY,o)?!0:0!==(n&$)&&c(t,i,e,t.maxY,o)?!0:!1}function h(t,n,i){var e=s(t,n),o=s(t,i);return 0===e&&0===o?!0:0!==(e&o)?!1:0===e||f(t,e,n,i,n)?(0!==o&&f(t,o,n,i,i),!0):!1}t.Canvas.addMethod("line",function(t,o,a,s){t=0|t,o=0|o,a=0|a,s=0|s,n.stroke(this,function(n){if(o===s)i(this.$,Math.min(t,a),Math.max(t,a),o,n);else if(t===a)e(this.$,Math.min(o,s),Math.max(o,s),t,n);else{var u=[t,o],c=[a,s];h(this.$,u,c)&&r(this.$,u[d],u[l],c[d],c[l],n)}})});var d=0,l=1,p=1,v=2,x=4,$=8}},{}],23:[function(t,n){"use strict";n.exports=function(t){t.Canvas.addMethod("mask",function(n){n instanceof t.Canvas&&(n=n.$.data),this.$.mask=n})}},{}],24:[function(t,n){"use strict";n.exports=function(t){t.Canvas.addMethod("noClip",function(){this.$.minX=0,this.$.minY=0,this.$.maxX=this.$.width-1,this.$.maxY=this.$.height-1})}},{}],25:[function(t,n){"use strict";n.exports=function(t){t.Canvas.addMethod("noFill",function(){this.$.fillColor=-1})}},{}],26:[function(t,n){"use strict";n.exports=function(t){t.Canvas.addMethod("noMask",function(){this.$.mask=null})}},{}],27:[function(t,n){"use strict";n.exports=function(t){t.Canvas.addMethod("noStroke",function(){this.$.strokeColor=-1})}},{}],28:[function(t,n){"use strict";n.exports=function(t){function n(t,n,i,e){for(var o=t.$.width,a=n.$.width,r=i.width,s=i.height,u=i.srcIndex,c=a*i.y+i.x,f=0;s>f;f++)e(u,c,r),u+=o,c+=a}function i(t,n,i,e,o,a){var r=0,s=i;return 0>t&&(i+=t,r-=t,t=0),0>n&&(e+=n,r-=n*s,n=0),i=Math.min(i,o-t),e=Math.min(e,a-n),{x:t,y:n,width:i,height:e,srcIndex:r}}t.Canvas.addMethod("paste",function(t,e,o){if(e=0|e,o=0|o,t&&this.constructor===t.constructor){var a=t.$.data,r=this.$.data,s=this.$.mask,u=this.$.pixelSize,c=i(e,o,t.$.width,t.$.height,this.$.width,this.$.height),f=null;f=s?function(t,n,i){for(var e=0;i>e;e++){if(0!==s[n]){var o=a.subarray(t*u,(t+1)*u);r.set(o,n*u)}t++,n++}}:function(t,n,i){var e=a.subarray(t*u,(t+i)*u);r.set(e,n*u)},n(t,this,c,f)}})}},{}],29:[function(t,n){"use strict";n.exports=function(t,n){t.Canvas.addMethod("point",function(t,i){t=0|t,i=0|i,n.stroke(this,function(e){n.inClip(this,t,i)&&n.putPixel(this,t,i,e)})})}},{}],30:[function(t,n){"use strict";n.exports=function(t,n){function i(t,n){return t[x]===n[x]&&t[$]===n[$]}function e(t,n){return(n[x]-t[x])/(n[$]-t[$])}function o(t,n,i,e){var o=n[$]<i?i-t[$]:e-t[$],a=(n[x]-t[x])*o/(n[$]-t[$])+t[x]|0,r=n[$]<i?i:e;return[a,r]}function a(t,e,a){for(var r=[],s=t.length,u=1;s>=u;u++){var c=t[u-1],f=t[u%s];i(c,f)||(n.inRange(c[$],e,a)?n.inRange(f[$],e,a)?r.push(c):r.push(c,o(c,f,e,a)):n.inRange(f[$],e,a)?r.push(o(f,c,e,a)):r.push(o(f,c,e,a),o(c,f,e,a)))}return r}function r(t){var n=[];if(0===t.length)return n;for(var i=t.length,o=1,a=0;i>a;a++){var r=t[a].slice(),s=t[(a+1)%i].slice();if(r[$]!==s[$]){var u=[r[$]<s[$]?r[x]:s[x],0,0,e(r,s),r[$]<s[$]?1:-1,o++];u[m]=Math.min(r[$],s[$]),u[C]=Math.max(r[$],s[$]),n.push(u)}}return n}function s(t){return function(i){return n.inRange(t,i[m],i[C])}}function u(t,n){return t[x]-n[x]}function c(t,n){return t[g]===n[g]}function f(t,n,i){return 1===Math.abs(t[w]%i-n[w])}function h(t,n,i){return 0===n||!c(i[n],i[n-1])||!f(i[n],i[n-1],i.length)}function d(t){return t[x]}function l(t){t[x]+=t[M]}function p(t,i,e){var o=t.$.maxY,a=t.$.minY;i.forEach(function(t){o=Math.min(o,t[m]),a=Math.max(a,t[C])});for(var r=o;a>=r;r++){for(var c=i.filter(s(r)),f=c.sort(u).filter(h).map(d),p=1,v=f.length;v>p;p+=2){var x=f[p-1],$=f[p];n.putLine(t,Math.round(x),Math.round($),r,e)}c.forEach(l)}}function v(t,n){for(var i=n.length,e=0,o=i;o>e;e++){var a=n[e],r=n[(e+1)%i];t.line(a[x],a[$],r[x],r[$])}}t.Canvas.addMethod("polygon",function(t){t=Array.isArray(t)?t.map(function(t){return[0|t[0],0|t[1]]}):[],n.fill(this,function(n){p(this,r(a(t,this.$.minY,this.$.maxY)),n)}),n.stroke(this,function(n){v(this,t,n)})});var x=0,$=1,m=1,C=2,M=3,g=4,w=5}},{}],31:[function(t,n){"use strict";n.exports=function(t){t.Canvas.addMethod("quad",function(t,n,i,e,o,a,r,s){t=0|t,n=0|n,i=0|i,e=0|e,o=0|o,a=0|a,r=0|r,s=0|s,this.polygon([[t,n],[i,e],[o,a],[r,s]])})}},{}],32:[function(t,n){"use strict";n.exports=function(t,n){function i(t,i,e,o,a,r){for(var s=e;a>=s;s++)n.putLine(t,i,o,s,r)}function e(t,n,i,e,o){t.line(n,i,e,i),t.line(e,i,e,o),t.line(e,o,n,o),t.line(n,o,n,i)}t.Canvas.addMethod("rect",function(t,o,a,r){t=0|t,o=0|o,a=0|a,r=0|r;var s=Math.abs(a)-1,u=Math.abs(r)-1,c=a>=0?1:-1,f=r>=0?1:-1,h=1===c?t:t+s*c,d=-1===c?t:t+s*c,l=1===f?o:o+u*f,p=-1===f?o:o+u*f;n.fill(this,function(t){i(this,h,l,d,p,t)}),n.stroke(this,function(t){e(this,h,l,d,p,t)})})}},{}],33:[function(t,n){"use strict";n.exports=function(t){t.Canvas.addMethod("setColor",function(t,n){t=3*(15&t),this.$.colorPalette[t]=17*(n>>20&15),this.$.colorPalette[t+1]=17*(n>>12&15),this.$.colorPalette[t+2]=17*(n>>4&15)})}},{}],34:[function(t,n){"use strict";n.exports=function(t,n){t.Canvas.addMethod("setTile",function(t,i){t=31&t,i=65535&i,n.inRange(t,0,15)||(this.$.tilePalette[t]=i)})}},{}],35:[function(t,n){"use strict";n.exports=function(t,n){t.Canvas.addMethod("stroke",function(t){this.$.strokeColor=n.colorize(t,this.$.tilePalette)})}},{}],36:[function(t,n){"use strict";n.exports=function(t){t.Canvas.addMethod("toIndexedColor",function(){return new Uint8Array(this.$.data)}),t.CanvasRGB.addMethod("toIndexedColor",function(){throw new Error("CanvasRGB is not supported #toIndexedColor")})}},{}],37:[function(t,n){"use strict";n.exports=function(t){t.Canvas.addMethod("toMask",function(){for(var t=this.$.data,n=new Uint8Array(t.length),i=0,e=n.length;e>i;i++)n[i]=t[i]?15:0;return n}),t.CanvasRGB.addMethod("toMask",function(){throw new Error("CanvasRGB is not supported #toMask")})}},{}],38:[function(t,n){"use strict";n.exports=function(t){t.Canvas.addMethod("toRGB",function(){for(var t=this.$.width*this.$.height,n=new Uint8Array(3*t),i=this.$.data,e=this.$.width,o=this.$.height,a=this.$.colorPalette,r=0,s=0,u=0;o>u;u++)for(var c=0;e>c;c++){var f=3*i[r++];n[s++]=a[f],n[s++]=a[f+1],n[s++]=a[f+2]}return n}),t.CanvasRGB.addMethod("toRGB",function(){return new Uint8Array(this.$.data)}),t.CanvasRGBA.addMethod("toRGB",function(){for(var t=this.$.width*this.$.height,n=new Uint8Array(3*t),i=this.$.data,e=0,o=0,a=0;t>e;e++,a++)n[o++]=i[a++],n[o++]=i[a++],n[o++]=i[a++];return n})}},{}],39:[function(t,n){"use strict";n.exports=function(t,n){t.Canvas.addMethod("toRGBA",function(t){t=0|n.defaults(t,255);for(var i=this.$.width*this.$.height,e=new Uint8Array(4*i),o=this.$.data,a=this.$.width,r=this.$.height,s=this.$.colorPalette,u=0,c=0,f=0;r>f;f++)for(var h=0;a>h;h++){var d=3*o[u++];e[c++]=s[d],e[c++]=s[d+1],e[c++]=s[d+2],e[c++]=t}return e}),t.CanvasRGB.addMethod("toRGBA",function(t){t=0|n.defaults(t,255);for(var i=this.$.width*this.$.height,e=new Uint8Array(4*i),o=this.$.data,a=0,r=0,s=0;i>a;a++)e[r++]=o[s++],e[r++]=o[s++],e[r++]=o[s++],e[r++]=t;return e}),t.CanvasRGBA.addMethod("toRGBA",function(){return new Uint8Array(this.$.data)})}},{}],40:[function(t,n){"use strict";n.exports=function(t){t.Canvas.addMethod("triangle",function(t,n,i,e,o,a){t=0|t,n=0|n,i=0|i,e=0|e,o=0|o,a=0|a,this.polygon([[t,n],[i,e],[o,a]])})}},{}],41:[function(t,n,i){"use strict";var e=t("./utils"),o=[];i.version="0.2.4",i.use=function(t){return-1===o.indexOf(t)&&(t(this,e),o.push(t)),this},i.use(t("./canvas"))},{"./canvas":21,"./utils":50}],42:[function(t,n){"use strict";n.exports=function(t,n,i){return t[n]=function(){var t=i.apply(this,arguments);return void 0===t?this:t},this}},{}],43:[function(t,n){"use strict";function i(t,n){var i=15&t[0],e=15&t[1],o=31&t[2],a=n[o];return i===e||0===o?i:{valueOf:function(t,n){return a&1<<(3&t)+4*(3&n)?e:i}}}n.exports=function(t,n){return"number"==typeof t?-1===t?-1:15&t:Array.isArray(t)?i(t,n):"function"==typeof t?{valueOf:t}:-1}},{}],44:[function(t,n){"use strict";n.exports=function(t,n){return"undefined"==typeof t?n:t}},{}],45:[function(t,n){"use strict";n.exports=function(t,n){function i(){this.constructor=t}return Object.keys(n).forEach(function(i){t[i]=n[i]}),i.prototype=n.prototype,t.prototype=new i,t}},{}],46:[function(t,n){"use strict";n.exports=function(t,n){-1!==t.$.fillColor&&n.call(t,t.$.fillColor)}},{}],47:[function(t,n){"use strict";var i=t("./inRange");n.exports=function(t,n,e){return i(n,0,t.$.width-1)&&i(e,0,t.$.height-1)}},{"./inRange":49}],48:[function(t,n){"use strict";var i=t("./inRange");n.exports=function(t,n,e){return i(n,t.$.minX,t.$.maxX)&&i(e,t.$.minY,t.$.maxY)}},{"./inRange":49}],49:[function(t,n){"use strict";n.exports=function(t,n,i){return t>=n&&i>=t}},{}],50:[function(t,n,i){"use strict";i.addMethod=t("./addMethod"),i.extend=t("./extend"),i.inRange=t("./inRange"),i.defaults=t("./defaults"),i.rgb2num=t("./rgb2num"),i.slice=t("./slice"),i.colorize=t("./colorize"),i.inCanvas=t("./inCanvas"),i.inClip=t("./inClip"),i.putPixel=t("./putPixel"),i.putLine=t("./putLine"),i.stroke=t("./stroke"),i.fill=t("./fill")},{"./addMethod":42,"./colorize":43,"./defaults":44,"./extend":45,"./fill":46,"./inCanvas":47,"./inClip":48,"./inRange":49,"./putLine":51,"./putPixel":52,"./rgb2num":53,"./slice":54,"./stroke":55}],51:[function(t,n){"use strict";var i=t("./inRange");n.exports=function(t,n,e,o,a){var r=t.$;if(i(o,r.minY,r.maxY))for(n=Math.max(n,r.minX),e=Math.min(e,r.maxX);e>=n;)r.putPixel(n++,o,a)}},{"./inRange":49}],52:[function(t,n){"use strict";var i=t("./inRange");n.exports=function(t,n,e,o){var a=t.$;i(n,a.minX,a.maxX)&&i(e,a.minY,a.maxY)&&a.putPixel(n,e,o)}},{"./inRange":49}],53:[function(t,n){"use strict";n.exports=function(t,n,i){return(t<<16)+(n<<8)+i}},{}],54:[function(t,n){"use strict";var i=Array.prototype.slice;n.exports=function(t,n){return i.call(t,0|n)}},{}],55:[function(t,n){"use strict";n.exports=function(t,n){-1!==t.$.strokeColor&&n.call(t,t.$.strokeColor)}},{}]},{},[1]);